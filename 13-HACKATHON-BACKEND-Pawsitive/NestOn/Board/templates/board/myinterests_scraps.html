{% extends 'board/base.html' %}

{% block title %}{{ page_title }} - NestOn{% endblock %}

{% block content %}
<div class="page-container">
    <div class="page-header">
        <h1 class="page-title">ğŸ“Œ {{ page_title }}</h1>
        <p class="page-subtitle">{{ page_subtitle }}</p>
    </div>
    
    <div class="page-content">
        <div class="scraps-container">
            <!-- ìŠ¤í¬ë© í•„í„° -->
            <div class="scrap-filters">
                <div class="filter-buttons">
                    <button class="filter-btn active" onclick="filterScraps('all')">ì „ì²´</button>
                    <button class="filter-btn" onclick="filterScraps('news')">ë‰´ìŠ¤</button>
                    <button class="filter-btn" onclick="filterScraps('events')">í–‰ì‚¬</button>
                    <button class="filter-btn" onclick="filterScraps('posts')">ê²Œì‹œê¸€</button>
                </div>
                <div class="sort-options">
                    <select id="sortSelect" onchange="sortScraps()">
                        <option value="latest">ìµœì‹ ìˆœ</option>
                        <option value="oldest">ì˜¤ë˜ëœìˆœ</option>
                        <option value="title">ì œëª©ìˆœ</option>
                    </select>
                </div>
            </div>
            
            <!-- ìŠ¤í¬ë© ëª©ë¡ -->
            <div class="scrap-list" id="scrapList">
                <!-- ìŠ¤í¬ë© ì•„ì´í…œ 1 -->
                <div class="scrap-item" data-type="events" data-date="2024-08-19">
                    <div class="scrap-header">
                        <div class="scrap-type">ğŸ‰ í–‰ì‚¬</div>
                        <div class="scrap-date">2ì¼ ì „</div>
                    </div>
                    <div class="scrap-title">ì„œëŒ€ë¬¸êµ¬ ë¬¸í™”ì¶•ì œ ê°œìµœ ì•ˆë‚´</div>
                    <div class="scrap-content">
                        ì„œëŒ€ë¬¸êµ¬ì—ì„œ ê°œìµœë˜ëŠ” ë¬¸í™”ì¶•ì œì— ëŒ€í•œ ìƒì„¸ ì•ˆë‚´ì…ë‹ˆë‹¤. ë‹¤ì–‘í•œ ë¬¸í™” í”„ë¡œê·¸ë¨ê³¼ í•¨ê»˜í•˜ëŠ” ì¦ê±°ìš´ ì‹œê°„ì„ ë³´ë‚´ì„¸ìš”.
                    </div>
                    <div class="scrap-tags">
                        <span class="tag">ë¬¸í™”/ì˜ˆìˆ </span>
                        <span class="tag">ì„œëŒ€ë¬¸êµ¬</span>
                    </div>
                    <div class="scrap-actions">
                        <button class="action-btn" onclick="viewScrap(1)">ë³´ê¸°</button>
                        <button class="action-btn delete" onclick="deleteScrap(1)">ì‚­ì œ</button>
                    </div>
                </div>
                
                <!-- ìŠ¤í¬ë© ì•„ì´í…œ 2 -->
                <div class="scrap-item" data-type="news" data-date="2024-08-18">
                    <div class="scrap-header">
                        <div class="scrap-type">ğŸ“° ë‰´ìŠ¤</div>
                        <div class="scrap-date">3ì¼ ì „</div>
                    </div>
                    <div class="scrap-title">ê°•ë‚¨êµ¬ ì‹ ê·œ ìƒê¶Œ ê°œë°œ ê³„íš ë°œí‘œ</div>
                    <div class="scrap-content">
                        ê°•ë‚¨êµ¬ì—ì„œ ìƒˆë¡œìš´ ìƒê¶Œ ê°œë°œ ê³„íšì„ ë°œí‘œí–ˆìŠµë‹ˆë‹¤. ì§€ì—­ ê²½ì œ í™œì„±í™”ë¥¼ ìœ„í•œ ë‹¤ì–‘í•œ ì§€ì› ì •ì±…ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
                    </div>
                    <div class="scrap-tags">
                        <span class="tag">ì‡¼í•‘/ìƒê¶Œ</span>
                        <span class="tag">ê°•ë‚¨êµ¬</span>
                    </div>
                    <div class="scrap-actions">
                        <button class="action-btn" onclick="viewScrap(2)">ë³´ê¸°</button>
                        <button class="action-btn delete" onclick="deleteScrap(2)">ì‚­ì œ</button>
                    </div>
                </div>
                
                <!-- ìŠ¤í¬ë© ì•„ì´í…œ 3 -->
                <div class="scrap-item" data-type="posts" data-date="2024-08-17">
                    <div class="scrap-header">
                        <div class="scrap-type">ğŸ’¬ ê²Œì‹œê¸€</div>
                        <div class="scrap-date">4ì¼ ì „</div>
                    </div>
                    <div class="scrap-title">í•´ìš´ëŒ€êµ¬ ë§›ì§‘ ì¶”ì²œ - ë°”ë‹¤ ì „ë§ ì¹´í˜</div>
                    <div class="scrap-content">
                        í•´ìš´ëŒ€êµ¬ì— ìœ„ì¹˜í•œ ë°”ë‹¤ ì „ë§ì´ ì•„ë¦„ë‹¤ìš´ ì¹´í˜ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤. ì»¤í”¼ì™€ í•¨ê»˜ ì¦ê¸°ëŠ” ì¼ëª°ì´ ì •ë§ í™˜ìƒì ì´ì—ìš”!
                    </div>
                    <div class="scrap-tags">
                        <span class="tag">ìŒì‹/ë§›ì§‘</span>
                        <span class="tag">í•´ìš´ëŒ€êµ¬</span>
                    </div>
                    <div class="scrap-actions">
                        <button class="action-btn" onclick="viewScrap(3)">ë³´ê¸°</button>
                        <button class="action-btn delete" onclick="deleteScrap(3)">ì‚­ì œ</button>
                    </div>
                </div>
                
                <!-- ìŠ¤í¬ë© ì•„ì´í…œ 4 -->
                <div class="scrap-item" data-type="events" data-date="2024-08-16">
                    <div class="scrap-header">
                        <div class="scrap-type">ğŸ‰ í–‰ì‚¬</div>
                        <div class="scrap-date">5ì¼ ì „</div>
                    </div>
                    <div class="scrap-title">ì„œìš¸ì‹œë¯¼ ë§ˆë¼í†¤ ëŒ€íšŒ ì°¸ê°€ ì‹ ì²­ ì•ˆë‚´</div>
                    <div class="scrap-content">
                        ì˜¬í•´ ì„œìš¸ì‹œë¯¼ ë§ˆë¼í†¤ ëŒ€íšŒ ì°¸ê°€ ì‹ ì²­ì´ ì‹œì‘ë©ë‹ˆë‹¤. ê±´ê°•í•œ ë„ì‹œë¥¼ ìœ„í•œ ì‹œë¯¼ë“¤ì˜ ì°¸ì—¬ë¥¼ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.
                    </div>
                    <div class="scrap-tags">
                        <span class="tag">ì²´ìœ¡/ìš´ë™</span>
                        <span class="tag">ì„œìš¸ì‹œ</span>
                    </div>
                    <div class="scrap-actions">
                        <button class="action-btn" onclick="viewScrap(4)">ë³´ê¸°</button>
                        <button class="action-btn delete" onclick="deleteScrap(4)">ì‚­ì œ</button>
                    </div>
                </div>
            </div>
            
            <!-- ë¹ˆ ìƒíƒœ -->
            <div class="empty-state" id="emptyState" style="display: none;">
                <div class="empty-icon">ğŸ“Œ</div>
                <h3>ìŠ¤í¬ë©ì´ ì—†ìŠµë‹ˆë‹¤</h3>
                <p>ê´€ì‹¬ ìˆëŠ” ë‚´ìš©ì„ ìŠ¤í¬ë©í•´ë³´ì„¸ìš”!</p>
            </div>
            
            <!-- ìŠ¤í¬ë© í†µê³„ -->
            <div class="scrap-stats">
                <h3>ìŠ¤í¬ë© í†µê³„</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">4</div>
                        <div class="stat-label">ì „ì²´ ìŠ¤í¬ë©</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">2</div>
                        <div class="stat-label">í–‰ì‚¬</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">1</div>
                        <div class="stat-label">ë‰´ìŠ¤</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">1</div>
                        <div class="stat-label">ê²Œì‹œê¸€</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .scraps-container {
        max-width: 800px;
        margin: 0 auto;
    }
    
    .scrap-filters {
        background: white;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        margin-bottom: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 15px;
    }
    
    .filter-buttons {
        display: flex;
        gap: 10px;
    }
    
    .filter-btn {
        padding: 8px 16px;
        border: 2px solid #e1e5e9;
        background: white;
        color: #666;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 14px;
    }
    
    .filter-btn.active, .filter-btn:hover {
        background: #4facfe;
        color: white;
        border-color: #4facfe;
    }
    
    .sort-options select {
        padding: 8px 12px;
        border: 2px solid #e1e5e9;
        border-radius: 8px;
        background: white;
        color: #666;
        font-size: 14px;
    }
    
    .scrap-list {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }
    
    .scrap-item {
        background: white;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
        border-left: 4px solid #4facfe;
    }
    
    .scrap-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    }
    
    .scrap-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
    }
    
    .scrap-type {
        font-weight: 600;
        color: #4facfe;
        font-size: 0.9em;
    }
    
    .scrap-date {
        font-size: 0.8em;
        color: #999;
    }
    
    .scrap-title {
        font-size: 1.1em;
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 8px;
    }
    
    .scrap-content {
        color: #666;
        font-size: 0.9em;
        line-height: 1.5;
        margin-bottom: 12px;
    }
    
    .scrap-tags {
        display: flex;
        gap: 8px;
        margin-bottom: 15px;
    }
    
    .tag {
        background: #e8f4fd;
        color: #4facfe;
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 0.8em;
        font-weight: 600;
    }
    
    .scrap-actions {
        display: flex;
        gap: 10px;
    }
    
    .action-btn {
        padding: 6px 12px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.8em;
        transition: all 0.3s ease;
    }
    
    .action-btn:not(.delete) {
        background: #4facfe;
        color: white;
    }
    
    .action-btn.delete {
        background: #e74c3c;
        color: white;
    }
    
    .action-btn:hover {
        transform: translateY(-1px);
    }
    
    .empty-state {
        text-align: center;
        padding: 60px 20px;
        color: #999;
    }
    
    .empty-icon {
        font-size: 3em;
        margin-bottom: 15px;
    }
    
    .empty-state h3 {
        margin-bottom: 10px;
        color: #666;
    }
    
    .scrap-stats {
        background: white;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        margin-top: 30px;
    }
    
    .scrap-stats h3 {
        margin-bottom: 20px;
        color: #2c3e50;
        font-size: 1.2em;
        border-bottom: 2px solid #4facfe;
        padding-bottom: 10px;
    }
    
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
    }
    
    .stat-card {
        text-align: center;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 10px;
        border-left: 4px solid #4facfe;
    }
    
    .stat-number {
        font-size: 2em;
        font-weight: 600;
        color: #4facfe;
        margin-bottom: 5px;
    }
    
    .stat-label {
        font-size: 0.9em;
        color: #666;
    }
</style>

<script>
    let currentFilter = 'all';
    
    // ìŠ¤í¬ë© í•„í„°ë§
    function filterScraps(type) {
        currentFilter = type;
        
        // í•„í„° ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.classList.add('active');
        
        // ìŠ¤í¬ë© ì•„ì´í…œ í•„í„°ë§
        const scrapItems = document.querySelectorAll('.scrap-item');
        let visibleCount = 0;
        
        scrapItems.forEach(item => {
            if (type === 'all' || item.dataset.type === type) {
                item.style.display = 'block';
                visibleCount++;
            } else {
                item.style.display = 'none';
            }
        });
        
        // ë¹ˆ ìƒíƒœ í‘œì‹œ/ìˆ¨ê¹€
        const emptyState = document.getElementById('emptyState');
        if (visibleCount === 0) {
            emptyState.style.display = 'block';
        } else {
            emptyState.style.display = 'none';
        }
    }
    
    // ìŠ¤í¬ë© ì •ë ¬
    function sortScraps() {
        const sortType = document.getElementById('sortSelect').value;
        const scrapList = document.getElementById('scrapList');
        const scrapItems = Array.from(scrapList.children);
        
        scrapItems.sort((a, b) => {
            if (sortType === 'latest') {
                return new Date(b.dataset.date) - new Date(a.dataset.date);
            } else if (sortType === 'oldest') {
                return new Date(a.dataset.date) - new Date(b.dataset.date);
            } else if (sortType === 'title') {
                const titleA = a.querySelector('.scrap-title').textContent;
                const titleB = b.querySelector('.scrap-title').textContent;
                return titleA.localeCompare(titleB);
            }
        });
        
        // ì •ë ¬ëœ ì•„ì´í…œë“¤ì„ ë‹¤ì‹œ ì¶”ê°€
        scrapItems.forEach(item => scrapList.appendChild(item));
    }
    
    // ìŠ¤í¬ë© ë³´ê¸°
    function viewScrap(id) {
        alert(`ìŠ¤í¬ë© ${id}ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.`);
        // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” í•´ë‹¹ ìŠ¤í¬ë©ì˜ ì›ë³¸ í˜ì´ì§€ë¡œ ì´ë™
    }
    
    // ìŠ¤í¬ë© ì‚­ì œ
    function deleteScrap(id) {
        if (confirm('ì´ ìŠ¤í¬ë©ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
            const scrapItem = event.target.closest('.scrap-item');
            scrapItem.style.animation = 'fadeOut 0.3s ease';
            setTimeout(() => {
                scrapItem.remove();
                updateStats();
            }, 300);
        }
    }
    
    // í†µê³„ ì—…ë°ì´íŠ¸
    function updateStats() {
        const totalScraps = document.querySelectorAll('.scrap-item').length;
        const eventScraps = document.querySelectorAll('.scrap-item[data-type="events"]').length;
        const newsScraps = document.querySelectorAll('.scrap-item[data-type="news"]').length;
        const postScraps = document.querySelectorAll('.scrap-item[data-type="posts"]').length;
        
        // í†µê³„ ì—…ë°ì´íŠ¸ ë¡œì§ (ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” DOM ì—…ë°ì´íŠ¸)
        console.log(`ì „ì²´: ${totalScraps}, í–‰ì‚¬: ${eventScraps}, ë‰´ìŠ¤: ${newsScraps}, ê²Œì‹œê¸€: ${postScraps}`);
    }
</script>

<style>
    @keyframes fadeOut {
        from { opacity: 1; transform: translateY(0); }
        to { opacity: 0; transform: translateY(-10px); }
    }
</style>
{% endblock %}
