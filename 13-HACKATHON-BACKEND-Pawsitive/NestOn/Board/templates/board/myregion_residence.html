{% extends 'board/base.html' %}

{% block title %}{{ page_title }} - NestOn{% endblock %}

{% block content %}
<div class="page-container">
    <div class="page-header">
        <h1 class="page-title">ğŸ  {{ page_title }}</h1>
        <p class="page-subtitle">{{ page_subtitle }}</p>
    </div>
    
    <div class="page-content">
        <div class="region-form-container">
            <div class="current-region">
                <h3>í˜„ì¬ ê±°ì£¼ì§€ì—­</h3>
                <div class="region-display">
                    <span class="region-icon">ğŸ </span>
                    <span class="region-text">ì„œìš¸íŠ¹ë³„ì‹œ ì„œëŒ€ë¬¸êµ¬</span>
                </div>
            </div>
            
            <div class="region-form">
                <h3>ê±°ì£¼ì§€ì—­ ë³€ê²½</h3>
                <form id="residenceForm">
                    <div class="form-group">
                        <label for="province">ì‹œ/ë„</label>
                        <select id="province" name="province" class="form-select" required>
                            <option value="">ì‹œ/ë„ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="ì„œìš¸íŠ¹ë³„ì‹œ" selected>ì„œìš¸íŠ¹ë³„ì‹œ</option>
                            <option value="ë¶€ì‚°ê´‘ì—­ì‹œ">ë¶€ì‚°ê´‘ì—­ì‹œ</option>
                            <option value="ëŒ€êµ¬ê´‘ì—­ì‹œ">ëŒ€êµ¬ê´‘ì—­ì‹œ</option>
                            <option value="ì¸ì²œê´‘ì—­ì‹œ">ì¸ì²œê´‘ì—­ì‹œ</option>
                            <option value="ê´‘ì£¼ê´‘ì—­ì‹œ">ê´‘ì£¼ê´‘ì—­ì‹œ</option>
                            <option value="ëŒ€ì „ê´‘ì—­ì‹œ">ëŒ€ì „ê´‘ì—­ì‹œ</option>
                            <option value="ìš¸ì‚°ê´‘ì—­ì‹œ">ìš¸ì‚°ê´‘ì—­ì‹œ</option>
                            <option value="ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ">ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ</option>
                            <option value="ê²½ê¸°ë„">ê²½ê¸°ë„</option>
                            <option value="ê°•ì›ë„">ê°•ì›ë„</option>
                            <option value="ì¶©ì²­ë¶ë„">ì¶©ì²­ë¶ë„</option>
                            <option value="ì¶©ì²­ë‚¨ë„">ì¶©ì²­ë‚¨ë„</option>
                            <option value="ì „ë¼ë¶ë„">ì „ë¼ë¶ë„</option>
                            <option value="ì „ë¼ë‚¨ë„">ì „ë¼ë‚¨ë„</option>
                            <option value="ê²½ìƒë¶ë„">ê²½ìƒë¶ë„</option>
                            <option value="ê²½ìƒë‚¨ë„">ê²½ìƒë‚¨ë„</option>
                            <option value="ì œì£¼íŠ¹ë³„ìì¹˜ë„">ì œì£¼íŠ¹ë³„ìì¹˜ë„</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="city">ì‹œ/êµ°/êµ¬</label>
                        <select id="city" name="city" class="form-select" required>
                            <option value="">ì‹œ/êµ°/êµ¬ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="ì„œëŒ€ë¬¸êµ¬" selected>ì„œëŒ€ë¬¸êµ¬</option>
                            <option value="ê°•ë‚¨êµ¬">ê°•ë‚¨êµ¬</option>
                            <option value="ê°•ë™êµ¬">ê°•ë™êµ¬</option>
                            <option value="ê°•ë¶êµ¬">ê°•ë¶êµ¬</option>
                            <option value="ê°•ì„œêµ¬">ê°•ì„œêµ¬</option>
                            <option value="ê´€ì•…êµ¬">ê´€ì•…êµ¬</option>
                            <option value="ê´‘ì§„êµ¬">ê´‘ì§„êµ¬</option>
                            <option value="êµ¬ë¡œêµ¬">êµ¬ë¡œêµ¬</option>
                            <option value="ê¸ˆì²œêµ¬">ê¸ˆì²œêµ¬</option>
                            <option value="ë…¸ì›êµ¬">ë…¸ì›êµ¬</option>
                            <option value="ë„ë´‰êµ¬">ë„ë´‰êµ¬</option>
                            <option value="ë™ëŒ€ë¬¸êµ¬">ë™ëŒ€ë¬¸êµ¬</option>
                            <option value="ë™ì‘êµ¬">ë™ì‘êµ¬</option>
                            <option value="ë§ˆí¬êµ¬">ë§ˆí¬êµ¬</option>
                            <option value="ì„œì´ˆêµ¬">ì„œì´ˆêµ¬</option>
                            <option value="ì„±ë™êµ¬">ì„±ë™êµ¬</option>
                            <option value="ì„±ë¶êµ¬">ì„±ë¶êµ¬</option>
                            <option value="ì†¡íŒŒêµ¬">ì†¡íŒŒêµ¬</option>
                            <option value="ì–‘ì²œêµ¬">ì–‘ì²œêµ¬</option>
                            <option value="ì˜ë“±í¬êµ¬">ì˜ë“±í¬êµ¬</option>
                            <option value="ìš©ì‚°êµ¬">ìš©ì‚°êµ¬</option>
                            <option value="ì€í‰êµ¬">ì€í‰êµ¬</option>
                            <option value="ì¢…ë¡œêµ¬">ì¢…ë¡œêµ¬</option>
                            <option value="ì¤‘êµ¬">ì¤‘êµ¬</option>
                            <option value="ì¤‘ë‘êµ¬">ì¤‘ë‘êµ¬</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="district">ë™/ì/ë©´</label>
                        <select id="district" name="district" class="form-select">
                            <option value="">ë™/ì/ë©´ì„ ì„ íƒí•˜ì„¸ìš” (ì„ íƒì‚¬í•­)</option>
                            <option value="ì‹ ì´Œë™">ì‹ ì´Œë™</option>
                            <option value="ì—°í¬ë™">ì—°í¬ë™</option>
                            <option value="í™ì œë™">í™ì œë™</option>
                            <option value="ë¶ì•„í˜„ë™">ë¶ì•„í˜„ë™</option>
                            <option value="ì²œì—°ë™">ì²œì—°ë™</option>
                            <option value="ì¶©ì •ë¡œë™">ì¶©ì •ë¡œë™</option>
                            <option value="í•©ë™">í•©ë™</option>
                            <option value="ë¯¸ê·¼ë™">ë¯¸ê·¼ë™</option>
                            <option value="ëƒ‰ì²œë™">ëƒ‰ì²œë™</option>
                            <option value="ì˜¥ì²œë™">ì˜¥ì²œë™</option>
                            <option value="ì˜ì²œë™">ì˜ì²œë™</option>
                            <option value="í˜„ì €ë™">í˜„ì €ë™</option>
                            <option value="ë¶ê°€ì¢Œë™">ë¶ê°€ì¢Œë™</option>
                            <option value="ë‚¨ê°€ì¢Œë™">ë‚¨ê°€ì¢Œë™</option>
                            <option value="ì°½ì²œë™">ì°½ì²œë™</option>
                            <option value="ëŒ€ì‹ ë™">ëŒ€ì‹ ë™</option>
                            <option value="ëŒ€í˜„ë™">ëŒ€í˜„ë™</option>
                            <option value="ì‹ ìˆ˜ë™">ì‹ ìˆ˜ë™</option>
                            <option value="ë´‰ì›ë™">ë´‰ì›ë™</option>
                            <option value="ì°½í‰ë™">ì°½í‰ë™</option>
                            <option value="êµë‚¨ë™">êµë‚¨ë™</option>
                            <option value="êµë¶ë™">êµë¶ë™</option>
                            <option value="ì¸ì‚¬ë™">ì¸ì‚¬ë™</option>
                            <option value="ì‚¬ì§ë™">ì‚¬ì§ë™</option>
                            <option value="ì²´ë¶€ë™">ì²´ë¶€ë™</option>
                            <option value="í•„ìš´ë™">í•„ìš´ë™</option>
                            <option value="ë‚´ìë™">ë‚´ìë™</option>
                            <option value="ì‚¬ê°„ë™">ì‚¬ê°„ë™</option>
                            <option value="ì†¡í˜„ë™">ì†¡í˜„ë™</option>
                            <option value="ê°€íšŒë™">ê°€íšŒë™</option>
                            <option value="ì¬ë™">ì¬ë™</option>
                            <option value="ê³„ë™">ê³„ë™</option>
                            <option value="ì›ì„œë™">ì›ì„œë™</option>
                            <option value="í›ˆì •ë™">í›ˆì •ë™</option>
                            <option value="ë¬˜ë™">ë¬˜ë™</option>
                            <option value="ë´‰ìµë™">ë´‰ìµë™</option>
                            <option value="ëˆì˜ë™">ëˆì˜ë™</option>
                            <option value="ì¥ì‚¬ë™">ì¥ì‚¬ë™</option>
                            <option value="ê´€ìˆ˜ë™">ê´€ìˆ˜ë™</option>
                            <option value="ì¸ì˜ë™">ì¸ì˜ë™</option>
                            <option value="ì˜ˆì§€ë™">ì˜ˆì§€ë™</option>
                            <option value="ì›ë‚¨ë™">ì›ë‚¨ë™</option>
                            <option value="ì—°ì§€ë™">ì—°ì§€ë™</option>
                            <option value="ì¢…ë¡œë™">ì¢…ë¡œë™</option>
                            <option value="íš¨ìë™">íš¨ìë™</option>
                            <option value="ë´‰ì›ë™">ë´‰ì›ë™</option>
                            <option value="í†µì˜ë™">í†µì˜ë™</option>
                            <option value="ì ì„ ë™">ì ì„ ë™</option>
                            <option value="í†µì¸ë™">í†µì¸ë™</option>
                            <option value="ëˆ„ìƒë™">ëˆ„ìƒë™</option>
                            <option value="ëˆ„í•˜ë™">ëˆ„í•˜ë™</option>
                            <option value="ì˜¥ì¸ë™">ì˜¥ì¸ë™</option>
                            <option value="ì²´ë¶€ë™">ì²´ë¶€ë™</option>
                            <option value="í•„ìš´ë™">í•„ìš´ë™</option>
                            <option value="ë‚´ìë™">ë‚´ìë™</option>
                            <option value="ì‚¬ê°„ë™">ì‚¬ê°„ë™</option>
                            <option value="ì†¡í˜„ë™">ì†¡í˜„ë™</option>
                            <option value="ê°€íšŒë™">ê°€íšŒë™</option>
                            <option value="ì¬ë™">ì¬ë™</option>
                            <option value="ê³„ë™">ê³„ë™</option>
                            <option value="ì›ì„œë™">ì›ì„œë™</option>
                            <option value="í›ˆì •ë™">í›ˆì •ë™</option>
                            <option value="ë¬˜ë™">ë¬˜ë™</option>
                            <option value="ë´‰ìµë™">ë´‰ìµë™</option>
                            <option value="ëˆì˜ë™">ëˆì˜ë™</option>
                            <option value="ì¥ì‚¬ë™">ì¥ì‚¬ë™</option>
                            <option value="ê´€ìˆ˜ë™">ê´€ìˆ˜ë™</option>
                            <option value="ì¸ì˜ë™">ì¸ì˜ë™</option>
                            <option value="ì˜ˆì§€ë™">ì˜ˆì§€ë™</option>
                            <option value="ì›ë‚¨ë™">ì›ë‚¨ë™</option>
                            <option value="ì—°ì§€ë™">ì—°ì§€ë™</option>
                            <option value="ì¢…ë¡œë™">ì¢…ë¡œë™</option>
                            <option value="íš¨ìë™">íš¨ìë™</option>
                            <option value="ë´‰ì›ë™">ë´‰ì›ë™</option>
                            <option value="í†µì˜ë™">í†µì˜ë™</option>
                            <option value="ì ì„ ë™">ì ì„ ë™</option>
                            <option value="í†µì¸ë™">í†µì¸ë™</option>
                            <option value="ëˆ„ìƒë™">ëˆ„ìƒë™</option>
                            <option value="ëˆ„í•˜ë™">ëˆ„í•˜ë™</option>
                            <option value="ì˜¥ì¸ë™">ì˜¥ì¸ë™</option>
                        </select>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="goBack()">ì·¨ì†Œ</button>
                        <button type="submit" class="btn-primary">ê±°ì£¼ì§€ì—­ ë³€ê²½</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<style>
    .region-form-container {
        max-width: 600px;
        margin: 0 auto;
    }
    
    .current-region {
        background: white;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        margin-bottom: 30px;
    }
    
    .current-region h3 {
        margin-bottom: 15px;
        color: #2c3e50;
        font-size: 1.2em;
    }
    
    .region-display {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 15px;
        background: #f8f9fa;
        border-radius: 10px;
        border-left: 4px solid #4facfe;
    }
    
    .region-icon {
        font-size: 1.5em;
    }
    
    .region-text {
        font-size: 1.1em;
        font-weight: 600;
        color: #2c3e50;
    }
    
    .region-form {
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }
    
    .region-form h3 {
        margin-bottom: 25px;
        color: #2c3e50;
        font-size: 1.2em;
    }
    
    .form-group {
        margin-bottom: 20px;
    }
    
    .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #2c3e50;
    }
    
    .form-select {
        width: 100%;
        padding: 12px 15px;
        border: 2px solid #e1e5e9;
        border-radius: 8px;
        font-size: 14px;
        transition: border-color 0.3s ease;
        box-sizing: border-box;
        background: white;
    }
    
    .form-select:focus {
        outline: none;
        border-color: #4facfe;
    }
    
    .form-actions {
        display: flex;
        gap: 15px;
        justify-content: flex-end;
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid #e1e5e9;
    }
    
    .btn-primary, .btn-secondary {
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 14px;
    }
    
    .btn-primary {
        background: #4facfe;
        color: white;
    }
    
    .btn-primary:hover {
        background: #3a8bfd;
        transform: translateY(-2px);
    }
    
    .btn-secondary {
        background: #95a5a6;
        color: white;
    }
    
    .btn-secondary:hover {
        background: #7f8c8d;
        transform: translateY(-2px);
    }
    
    .alert {
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 20px;
        font-weight: 600;
    }
    
    .alert-success {
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
    }
    
    .alert-error {
        background: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
    }
</style>

<script>
    // í¼ ì œì¶œ
    document.getElementById('residenceForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const formData = new FormData(this);
        const submitBtn = this.querySelector('button[type="submit"]');
        const originalText = submitBtn.textContent;
        
        submitBtn.textContent = 'ë³€ê²½ ì¤‘...';
        submitBtn.disabled = true;
        
        try {
            // ì‹¤ì œ API í˜¸ì¶œ ëŒ€ì‹  ì‹œë®¬ë ˆì´ì…˜
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            showAlert('ê±°ì£¼ì§€ì—­ì´ ì„±ê³µì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            
            setTimeout(() => {
                window.location.href = '/board/myregion/';
            }, 2000);
            
        } catch (error) {
            showAlert('ê±°ì£¼ì§€ì—­ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
        } finally {
            submitBtn.textContent = originalText;
            submitBtn.disabled = false;
        }
    });
    
    // ì•Œë¦¼ í‘œì‹œ
    function showAlert(message, type) {
        const alertDiv = document.createElement('div');
        alertDiv.className = `alert alert-${type}`;
        alertDiv.textContent = message;
        
        const form = document.querySelector('.region-form');
        form.insertBefore(alertDiv, form.firstChild);
        
        setTimeout(() => {
            alertDiv.remove();
        }, 5000);
    }
    
    // ë’¤ë¡œ ê°€ê¸°
    function goBack() {
        window.history.back();
    }
</script>
{% endblock %}
